<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>trafdat - IRIS Traffic Data</title>
    <link rel="stylesheet" href="trafdat.css">
</head>

<body>
<h2>Trafdat - IRIS Traffic Data</h2>
<p>
    This site is for the distribution of traffic data collected by the IRIS
    traffic management system.
</p>
<p>
    There are several types of data requests which can be made.
    Some parameters for the requests are <code>did</code>,
    <code>year</code>, <code>date</code>, <code>sid</code> and
    <code>ext</code>.
</p>

<table>
<tr>
    <th>param</th>
    <th>Description</th>
</tr>
<tr>
    <td class="prm">did</td>
    <td>District ID of detection system</td>
</tr>
<tr>
    <td class="prm">year</td>
    <td>4-digit year</td>
</tr>
<tr>
    <td class="prm">date</td>
    <td>8-digit date (yyyyMMdd)</td>
</tr>
<tr>
    <td class="prm">sid</td>
    <td>Sensor ID</td>
</tr>
<tr>
    <td class="prm">ext</td>
    <td>Extension (v30, c30, s30, vmc30, vs30, vm30, vl30, pr60, pt60)</td>
</tr>
<tr>
    <td class="prm">rte</td>
    <td>Name of the route as it appears in metro_config.xml</td>
</tr>
<tr>
    <td class="prm">dir</td>
    <td>Direction of the route (NB, SB, EB, WB)</td>
</tr>
</table>

<br/>

<table>
<tr>
    <th class="req">Request form</th>
    <th>Description</th>
    <th>Content type</th>
</tr>
<tr>
    <td class="req">/</td>
    <td>Documentation (this page)</td>
    <td>text/html</td>
</tr>
<tr>
    <td class="req">/districts</td>
    <td>Get district IDs</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">year</span>.json</td>
    <td>Get sampled dates</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">date</span></td>
    <td>Get sensors sampled on date</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">date</span>/<span class="prm">sid</span>.json</td>
    <td>Get extensions sampled for sid on date</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">date</span>/<span class="prm">sid</span>.<span class="prm">ext</span>.json</td>
    <td rowspan="2">Get sensor sample data</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">date</span>/<span class="prm">sid</span>.<span class="prm">ext</span></td>
    <td>application/octet-stream</td>
</tr>
<tr>
	<td class="req">/metro_config/<span class="prm">date</span>/corridors</td>
	<td>Get list of corridors on date</td>
	<td>application/json</td>
</tr>
<tr>
    <td class="req">/metro_config/<span class="prm">date</span>.xml</td>
	<td rowspan="2">Get metro_config on date</td>
	<td>application/xml</td>
</tr>
<tr>
    <td class="req">/metro_config/<span class="prm">date</span>.json</td>
	<td>application/json</td>
</tr>
<tr>
    <td class="req">/metro_config/<span class="prm">date</span>/<span class="prm">rte</span>_<span class="prm">dir</span>.xml</td>
	<td rowspan="2">Get corridor config on date</td>
	<td>application/xml</td>
</tr>
<tr>
    <td class="req">/metro_config/<span class="prm">date</span>/<span class="prm">rte</span>_<span class="prm">dir</span>.json</td>
	<td>application/json</td>
</tr>
</table>

<h3>Deprecated Requests</h3>
<p>
    For these requests, the default district ID <code>tms</code> will be used.
</p>
<table class="deprecated">
<tr>
    <th class="req">Request form</th>
    <th>Description</th>
    <th>Content type</th>
</tr>
<tr>
    <td class="req">/<span class="prm">year</span></td>
    <td>Get sampled dates</td>
    <td>text/plain</td>
</tr>
<tr>
    <td class="req">/<span class="prm">year</span>/<span class="prm">date</span></td>
    <td>Get sensors sampled on date</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">year</span>/<span class="prm">date</span>/<span class="prm">sid</span>.<span class="prm">ext</span>.json</td>
    <td rowspan="2">Get sensor sample data</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">year</span>/<span class="prm">date</span>/<span class="prm">sid</span>.<span class="prm">ext</span></td>
    <td>application/octet-stream</td>
</tr>
</table>

<h3>Obsolete Requests</h3>
<table class="obsolete">
<tr>
    <th class="req">Request form</th>
    <th>Description</th>
    <th>Content type</th>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">year</span></td>
    <td>Get sampled dates</td>
    <td>text/plain</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">year</span>/<span class="prm">date</span></td>
    <td>Get sensors sampled on date</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">year</span>/<span class="prm">date</span>/<span class="prm">sid</span>.<span class="prm">ext</span>.json</td>
    <td rowspan="2">Get sensor sample data</td>
    <td>application/json</td>
</tr>
<tr>
    <td class="req">/<span class="prm">did</span>/<span class="prm">year</span>/<span class="prm">date</span>/<span class="prm">sid</span>.<span class="prm">ext</span></td>
    <td>application/octet-stream</td>
</tr>
</table>

</body>
</html>
